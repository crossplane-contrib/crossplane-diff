=== Composition Changes ===

~~~ Composition/xnopclaimdiffresources.claimdiff.example.org
  apiVersion: apiextensions.crossplane.io/v1
  kind: Composition
  metadata:
    name: xnopclaimdiffresources.claimdiff.example.org
  spec:
    compositeTypeRef:
      apiVersion: claimdiff.example.org/v1alpha1
      kind: XNopClaimDiffResource
    mode: Pipeline
    pipeline:
    - functionRef:
        name: function-go-templating
      input:
        apiVersion: template.fn.crossplane.io/v1beta1
        inline:
          template: |
            apiVersion: nop.crossplane.io/v1alpha1
            kind: ClusterNopResource
            metadata:
              annotations:
                gotemplating.fn.crossplane.io/composition-resource-name: nop-resource
              name: {{ .observed.composite.resource.metadata.name }}
            spec:
              forProvider:
                conditionAfter:
                  - conditionType: Ready
                    conditionStatus: "True"
                    time: 0s
                fields:
[31m-                 configData: {{ .observed.composite.resource.spec.coolField }}[0m
[31m-                 resourceTier: basic[0m
[32m+                 configData: updated-{{ .observed.composite.resource.spec.coolField }}[0m
[32m+                 resourceTier: premium[0m
        kind: GoTemplate
        source: Inline
      step: generate-resources
    - functionRef:
        name: function-auto-ready
      step: detect-ready-resources

---

Summary: 1 modified

=== Affected Composite Resources ===

- XNopClaimDiffResource/test-comp-claim-XXXXX (cluster-scoped)
- NopClaimDiffResource/test-comp-claim (namespace: default)

=== Impact Analysis ===

~~~ ClusterNopResource/test-comp-claim-XXXXX
  apiVersion: nop.crossplane.io/v1alpha1
  kind: ClusterNopResource
  metadata:
    annotations:
      crossplane.io/composition-resource-name: nop-resource
      crossplane.io/external-name: test-comp-claim-XXXXX
    finalizers:
    - finalizer.managedresource.crossplane.io
    labels:
      crossplane.io/claim-name: test-comp-claim
      crossplane.io/claim-namespace: default
[31m-     crossplane.io/composite: test-comp-claim-XXXXX[0m
[32m+     crossplane.io/composite: test-comp-claim[0m
    name: test-comp-claim-XXXXX
  spec:
    deletionPolicy: Delete
    forProvider:
      conditionAfter:
      - conditionStatus: "True"
        conditionType: Ready
        time: 0s
      fields:
[31m-       configData: claim-value-1[0m
[31m-       resourceTier: basic[0m
[32m+       configData: updated-claim-value-1[0m
[32m+       resourceTier: premium[0m
    managementPolicies:
    - '*'
    providerConfigRef:
      name: default

---
~~~ NopClaimDiffResource/test-comp-claim
  apiVersion: claimdiff.example.org/v1alpha1
  kind: NopClaimDiffResource
  metadata:
    finalizers:
    - finalizer.apiextensions.crossplane.io
    name: test-comp-claim
    namespace: default
  spec:
    compositeDeletePolicy: Background
    compositionRef:
      name: xnopclaimdiffresources.claimdiff.example.org
    compositionRevisionRef:
      name: xnopclaimdiffresources.claimdiff.example.org-XXXXXXX
[32m+   compositionUpdatePolicy: Automatic[0m
    coolField: claim-value-1
    crossplane:
      compositionRef:
        name: xnopclaimdiffresources.claimdiff.example.org
    resourceRef:
      apiVersion: claimdiff.example.org/v1alpha1
      kind: XNopClaimDiffResource
      name: test-comp-claim-XXXXX

---

Summary: 2 modified
